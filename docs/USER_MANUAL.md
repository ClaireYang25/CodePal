# 🚀 Gmail OTP AutoFill - 快速使用指南

## 📋 安装完成后的操作步骤

### 1. 配置 Gemini API 密钥

1. **获取 API 密钥**：
   - 访问：https://makersuite.google.com/app/apikey
   - 登录 Google 账户
   - 创建新的 API 密钥
   - 复制生成的密钥

2. **在扩展中配置**：
   - 点击 Chrome 工具栏中的扩展图标
   - 在"Gemini API 密钥"字段粘贴密钥
   - 点击"保存密钥"
   - 看到"API 密钥已保存"提示

### 2. 连接 Gmail 账户

1. **授权连接**：
   - 点击"连接 Gmail"按钮
   - 在弹出的 Google 授权页面中点击"允许"
   - 确认权限范围仅为 `gmail.readonly`
   - 看到"Gmail 连接成功"提示

2. **验证连接**：
   - 检查状态显示"Gmail 连接：已连接"
   - 检查状态显示"AI 服务：已配置"

### 3. 测试验证码识别

1. **发送测试邮件**：
   - 打开 Gmail
   - 发送一封包含验证码的测试邮件给自己
   - 例如：`您的验证码是：123456，请在5分钟内使用。`

2. **观察识别结果**：
   - 扩展会自动识别邮件中的验证码
   - 右上角会显示通知：`验证码已识别: 123456`
   - 可以点击"复制"按钮复制验证码

### 4. 测试自动填充

1. **准备测试页面**：
   - 打开任何需要输入验证码的网站
   - 找到验证码输入框（通常包含"验证码"、"code"、"otp"等关键词）

2. **测试自动填充**：
   - 点击验证码输入框
   - 如果最近5分钟内有识别到的验证码，会自动填充
   - 输入框旁边会显示"✓ 验证码已自动填充"提示

## 🔧 功能设置

### 设置选项说明

- **自动填充**：开启后会自动填充验证码到输入框
- **AI 增强**：开启后会在本地规则匹配失败时使用 AI 识别
- **通知提醒**：开启后会显示验证码识别通知

### 高级功能

- **清除数据**：清除所有存储的 OTP 和设置
- **测试 AI 服务**：测试 Gemini API 连接状态

## 🐛 故障排除

### 常见问题

1. **验证码未识别**：
   - 检查邮件是否包含明确的验证码格式
   - 尝试手动复制验证码
   - 检查 AI 服务是否正常工作

2. **自动填充不工作**：
   - 检查"自动填充"设置是否开启
   - 确认验证码在5分钟内有效
   - 检查输入框是否被正确识别

3. **Gmail 连接失败**：
   - 检查网络连接
   - 重新授权 Gmail 连接
   - 检查 Chrome 权限设置

4. **AI 服务错误**：
   - 检查 API 密钥是否正确
   - 确认 API 密钥有足够的配额
   - 尝试重新保存 API 密钥

### 调试方法

1. **查看控制台日志**：
   - 按 F12 打开开发者工具
   - 查看 Console 标签页的日志信息

2. **检查扩展状态**：
   - 在扩展管理页面查看扩展状态
   - 检查是否有错误信息

3. **测试存储数据**：
   - 在控制台运行：`chrome.storage.local.get(null, console.log)`
   - 查看存储的数据内容

## 📊 性能指标

### 预期性能

- **识别速度**：本地规则 < 100ms，AI 增强 < 2s
- **识别准确率**：本地规则 > 85%，AI 增强 > 95%
- **内存使用**：< 10MB
- **CPU 占用**：< 1%

### 支持的语言

- 中文（zh）
- 英文（en）
- 西班牙语（es）
- 意大利语（it）
- 自动检测（auto）

## 🔒 隐私说明

### 数据处理

- 仅读取 Gmail 邮件内容进行验证码识别
- 不存储完整的邮件内容
- 验证码数据仅保留7天
- 敏感信息会被匿名化处理

### 权限使用

- `gmail.readonly`：仅用于读取邮件内容
- `storage`：用于存储设置和 OTP 数据
- `activeTab`：用于在标签页间通信
- `identity`：用于 Google 账户认证

## 📞 技术支持

如果遇到问题，请：

1. 查看控制台错误日志
2. 检查网络连接和 API 密钥
3. 尝试重新安装扩展
4. 联系技术支持

---

**祝您使用愉快！** 🎉
